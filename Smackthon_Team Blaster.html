<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinWell - Unified Financial Wellness Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --primary: #2563eb;
        --secondary: #10b981;
        --accent: #f59e0b;
        --dark: #1f2937;
        --light: #f8fafc;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        min-height: 100vh;
      }

      .dashboard-card {
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .dashboard-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      }

      .nav-item.active {
        background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
        color: white;
        border-radius: 12px;
      }

      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(5px);
      }

      .modal-content {
        background-color: white;
        margin: 10% auto;
        padding: 30px;
        border: none;
        border-radius: 20px;
        width: 90%;
        max-width: 500px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        animation: modalSlideIn 0.3s ease;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .progress-bar-animated {
        transition: width 0.8s ease-in-out;
      }
    </style>
  </head>
  <body class="min-h-screen flex">
    <!-- Sidebar Navigation -->
    <div class="w-64 bg-white shadow-xl min-h-screen p-6 flex flex-col">
      <div class="flex items-center space-x-3 mb-8">
        <div
          class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"
        >
          <i class="fas fa-wallet text-white text-xl"></i>
        </div>
        <h1 class="text-2xl font-bold text-gray-800">FinWell</h1>
      </div>

      <nav class="space-y-2 flex-1">
        <div
          class="nav-item active p-3 flex items-center space-x-3 cursor-pointer"
          data-target="dashboardSection"
        >
          <i class="fas fa-home"></i>
          <span>Dashboard</span>
        </div>
        <div
          class="nav-item p-3 flex items-center space-x-3 cursor-pointer"
          data-target="expensesSection"
        >
          <i class="fas fa-chart-pie"></i>
          <span>Expenses</span>
        </div>
        <div class="nav-item p-3 flex items-center space-x-3 cursor-pointer">
          <i class="fas fa-credit-card"></i>
          <span>Debts</span>
        </div>
        <div
          class="nav-item p-3 flex items-center space-x-3 cursor-pointer"
          data-target="savingsSection"
        >
          <i class="fas fa-piggy-bank"></i>
          <span>Savings</span>
        </div>
        <div class="nav-item p-3 flex items-center space-x-3 cursor-pointer">
          <i class="fas fa-lightbulb"></i>
          <span>Financial Tips</span>
        </div>
        <div class="nav-item p-3 flex items-center space-x-3 cursor-pointer">
          <i class="fas fa-bell"></i>
          <span>Reminders</span>
        </div>
      </nav>

      <div class="mt-auto p-4 bg-blue-50 rounded-xl">
        <div class="flex items-center space-x-3">
          <div
            class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"
          >
            <i class="fas fa-user text-blue-600"></i>
          </div>
          <div>
            <p class="font-semibold">Team Blaster</p>
            <p class="text-sm text-gray-600">Smakathon</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 p-8 overflow-auto">
      <!-- Dashboard Section -->
      <div id="dashboardSection">
        <div class="flex justify-between items-center mb-8">
          <div>
            <h2 class="text-3xl font-bold text-gray-800">
              Financial Dashboard
            </h2>
            <p class="text-gray-600">
              Welcome back! Here's your financial overview
            </p>
          </div>
          <div class="flex space-x-4">
            <button
              class="px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2"
            >
              <i class="fas fa-plus"></i>
              <span>Add Transaction</span>
            </button>
            <button
              class="px-4 py-2 border border-gray-300 rounded-lg flex items-center space-x-2"
            >
              <i class="fas fa-cog"></i>
              <span>Settings</span>
            </button>
          </div>
        </div>

        <!-- Financial Overview Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="dashboard-card p-6">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-gray-600">Total Balance</p>
                <h3 class="text-2xl font-bold text-gray-800">$12,458.75</h3>
                <p class="text-green-600 text-sm mt-1">+2.5% from last month</p>
              </div>
              <div
                class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"
              >
                <i class="fas fa-wallet text-green-600"></i>
              </div>
            </div>
          </div>

          <div class="dashboard-card p-6">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-gray-600">Monthly Expenses</p>
                <h3 class="text-2xl font-bold text-gray-800">$3,245.50</h3>
                <p class="text-red-600 text-sm mt-1">-8% from last month</p>
              </div>
              <div
                class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"
              >
                <i class="fas fa-shopping-cart text-red-600"></i>
              </div>
            </div>
          </div>

          <div class="dashboard-card p-6">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-gray-600">Savings Progress</p>
                <h3
                  id="savingsPercentage"
                  class="text-2xl font-bold text-gray-800"
                >
                  68%
                </h3>
                <p id="savingsAmount" class="text-blue-600 text-sm mt-1">
                  $3,400/$5,000 goal
                </p>
              </div>
              <div
                class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"
              >
                <i class="fas fa-piggy-bank text-blue-600"></i>
              </div>
            </div>
          </div>

          <div class="dashboard-card p-6">
            <div class="flex justify-between items-start">
              <div>
                <p class="text-gray-600">Debt Reduction</p>
                <h3 class="text-2xl font-bold text-gray-800">42%</h3>
                <p class="text-orange-600 text-sm mt-1">$8,250 remaining</p>
              </div>
              <div
                class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center"
              >
                <i class="fas fa-credit-card text-orange-600"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts and Visualizations -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          <div class="dashboard-card p-6">
            <h3 class="text-xl font-semibold mb-4">Expense Distribution</h3>
            <div class="h-64">
              <canvas id="expenseChart"></canvas>
            </div>
          </div>

          <div class="dashboard-card p-6">
            <h3 class="text-xl font-semibold mb-4">Monthly Spending Trend</h3>
            <div class="h-64">
              <canvas id="spendingTrendChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Expenses Section -->
      <div id="expensesSection" class="hidden">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">
          Google Pay Transactions
        </h2>
        <div class="overflow-x-auto">
          <table class="w-full text-left border border-gray-200 rounded-lg">
            <thead class="bg-gray-100">
              <tr>
                <th class="p-3">Date</th>
                <th class="p-3">Merchant</th>
                <th class="p-3">Category</th>
                <th class="p-3">Amount</th>
              </tr>
            </thead>
            <tbody id="transactionsTable" class="divide-y"></tbody>
          </table>
        </div>
      </div>

      <!-- Savings Section -->
      <div id="savingsSection" class="hidden">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">Savings Challenge</h2>
        <div class="dashboard-card p-6">
          <div
            class="p-6 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 text-white"
          >
            <!-- Header -->
            <div class="flex justify-between items-center mb-4">
              <div>
                <p class="text-sm">Current Challenge</p>
                <h3 class="text-xl font-bold">Emergency Fund Builder</h3>
              </div>
              <div
                id="savingsCompleteBadge"
                class="bg-white text-blue-700 px-3 py-1 rounded-full text-sm font-semibold"
              >
                68% Complete
              </div>
            </div>

            <!-- Progress Bar -->
            <div class="bg-gray-200 bg-opacity-30 h-4 rounded-full mb-3">
              <div
                id="savingsProgressBar"
                class="bg-green-500 h-4 rounded-full progress-bar-animated"
                style="width: 68%"
              ></div>
            </div>

            <div class="flex justify-between items-center text-sm mb-4">
              <span id="currentSavingsAmount" class="font-semibold"
                >$3,400</span
              >
              <span id="savingsGoalAmount" class="text-gray-200">/ $5,000</span>
            </div>

            <!-- Button -->
            <button
              id="addSavingsBtn"
              class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition duration-200 transform hover:scale-105"
            >
              <i class="fas fa-plus mr-2"></i>
              Add to Savings
            </button>
          </div>
        </div>

        <!-- Savings History -->
        <div class="dashboard-card p-6 mt-6">
          <h3 class="text-xl font-semibold mb-4 flex items-center">
            <i class="fas fa-history mr-2 text-blue-600"></i>
            Savings History
          </h3>
          <div id="savingsHistory" class="space-y-3">
            <div
              class="flex justify-between items-center p-3 bg-gray-50 rounded-lg"
            >
              <div>
                <p class="font-medium">Initial Savings</p>
                <p class="text-sm text-gray-600">Started Emergency Fund</p>
              </div>
              <span class="text-green-600 font-semibold">+$3,400</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Savings Modal -->
    <div id="savingsModal" class="modal">
      <div class="modal-content">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold text-gray-800 flex items-center">
            <i class="fas fa-piggy-bank mr-3 text-blue-600"></i>
            Add to Savings
          </h2>
          <button
            id="closeModal"
            class="text-gray-400 hover:text-gray-600 text-2xl"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">
            Enter your total monthly income
          </label>
          <div class="relative">
            <span
              class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"
              >$</span
            >
            <input
              type="number"
              id="incomeInput"
              class="w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"
              placeholder="5000"
              min="0"
              step="0.01"
            />
          </div>
        </div>

        <div class="bg-blue-50 p-4 rounded-lg mb-6">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm font-medium text-gray-700"
              >Recommended Savings (10%)</span
            >
            <span id="calculatedSavings" class="text-lg font-bold text-blue-600"
              >$0</span
            >
          </div>
          <p class="text-xs text-gray-600">
            Financial experts recommend saving 10-20% of your monthly income
          </p>
        </div>

        <div class="flex space-x-4">
          <button
            id="cancelSavings"
            class="flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition"
          >
            Cancel
          </button>
          <button
            id="confirmSavings"
            class="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
            disabled
          >
            <i class="fas fa-check mr-2"></i>
            Confirm Savings
          </button>
        </div>
      </div>
    </div>

    <script>
      // Savings data management
      let savingsData = {
        currentAmount: 0,
        goalAmount: 5000,
        history: [
          {
            date: "2025-08-22",
            amount: 0,
            description: "Initial Savings - Started Emergency Fund",
          },
        ],
      };

      document.addEventListener("DOMContentLoaded", function () {
        // Initialize UI
        updateSavingsDisplay();

        // Expense Distribution Chart
        const expenseCtx = document
          .getElementById("expenseChart")
          .getContext("2d");
        const expenseChart = new Chart(expenseCtx, {
          type: "doughnut",
          data: {
            labels: [
              "Bills",
              "Food",
              "Transport",
              "Entertainment",
              "Utilities",
              "Other",
            ],
            datasets: [
              {
                data: [4000, 650, 450, 300, 250, 195.5],
                backgroundColor: [
                  "#3b82f6",
                  "#10b981",
                  "#f59e0b",
                  "#ef4444",
                  "#8b5cf6",
                  "#64748b",
                ],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "bottom",
                labels: {
                  padding: 20,
                  usePointStyle: true,
                },
              },
            },
            cutout: "70%",
          },
        });

        // Spending Chart
        const trendCtx = document
          .getElementById("spendingTrendChart")
          .getContext("2d");
        new Chart(trendCtx, {
          type: "line",
          data: {
            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
            datasets: [
              {
                label: "Monthly Spending",
                data: [3800, 4200, 3600, 3950, 3450, 3245, 3100],
                borderColor: "#2563eb",
                backgroundColor: "rgba(37,99,235,0.1)",
                fill: true,
                tension: 0.4,
                borderWidth: 3,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: { legend: { display: false } },
          },
        });

        // Navigation
        const navItems = document.querySelectorAll(".nav-item");
        const sections = document.querySelectorAll(
          "#dashboardSection, #expensesSection, #savingsSection"
        );

        navItems.forEach((item) => {
          item.addEventListener("click", function () {
            navItems.forEach((nav) => nav.classList.remove("active"));
            this.classList.add("active");
            const targetId = this.dataset.target;
            sections.forEach((s) => s.classList.add("hidden"));
            if (targetId)
              document.getElementById(targetId).classList.remove("hidden");
            if (targetId === "expensesSection") loadTransactions();
          });
        });

        // Mock Google Pay Transactions
        async function fetchGoogleTransactions() {
          return [
            {
              date: "2025-08-10",
              merchant: "Amazon",
              category: "Shopping",
              amount: -125.5,
            },
            {
              date: "2025-08-12",
              merchant: "Swiggy",
              category: "Food",
              amount: -45.75,
            },
            {
              date: "2025-08-14",
              merchant: "Google Play",
              category: "Entertainment",
              amount: -249,
            },
            {
              date: "2025-08-15",
              merchant: "Employer Ltd",
              category: "Income",
              amount: 3500,
            },
          ];
        }

        async function loadTransactions() {
          const transactions = await fetchGoogleTransactions();
          const table = document.getElementById("transactionsTable");
          table.innerHTML = "";
          transactions.forEach((tx) => {
            const row = document.createElement("tr");
            row.innerHTML = `
              <td class="p-3">${tx.date}</td>
              <td class="p-3">${tx.merchant}</td>
              <td class="p-3">${tx.category}</td>
              <td class="p-3 font-semibold ${
                tx.amount < 0 ? "text-red-600" : "text-green-600"
              }">
                ${tx.amount < 0 ? "-" : "+"}$${Math.abs(tx.amount).toFixed(2)}
              </td>
            `;
            table.appendChild(row);
          });
        }

        // Savings Modal Functionality
        const modal = document.getElementById("savingsModal");
        const addSavingsBtn = document.getElementById("addSavingsBtn");
        const closeModal = document.getElementById("closeModal");
        const cancelSavings = document.getElementById("cancelSavings");
        const incomeInput = document.getElementById("incomeInput");
        const calculatedSavings = document.getElementById("calculatedSavings");
        const confirmSavings = document.getElementById("confirmSavings");

        // Open modal
        addSavingsBtn.addEventListener("click", () => {
          modal.style.display = "block";
          incomeInput.focus();
        });

        // Close modal
        function closeModalFunc() {
          modal.style.display = "none";
          incomeInput.value = "";
          calculatedSavings.textContent = "$0";
          confirmSavings.disabled = true;
        }

        closeModal.addEventListener("click", closeModalFunc);
        cancelSavings.addEventListener("click", closeModalFunc);

        // Close modal when clicking outside
        window.addEventListener("click", (event) => {
          if (event.target === modal) {
            closeModalFunc();
          }
        });

        // Calculate savings as user types
        incomeInput.addEventListener("input", () => {
          const income = parseFloat(incomeInput.value) || 0;
          const savings = income * 0.1;
          calculatedSavings.textContent = `$${savings.toFixed(2)}`;
          confirmSavings.disabled = income <= 0;
        });

        // Confirm savings
        confirmSavings.addEventListener("click", () => {
          const income = parseFloat(incomeInput.value);
          const newSavings = income * 0.1;

          // Add to savings data
          savingsData.currentAmount += newSavings;
          savingsData.history.push({
            date: new Date().toISOString().split("T")[0],
            amount: newSavings,
            description: `Added 10% savings from $${income.toFixed(2)} income`,
          });

          // Update UI
          updateSavingsDisplay();
          updateSavingsHistory();

          // Close modal with success animation
          closeModalFunc();

          // Show success message
          showSuccessMessage(
            `Successfully added $${newSavings.toFixed(2)} to your savings!`
          );
        });

        // Update savings display
        function updateSavingsDisplay() {
          const percentage = Math.min(
            (savingsData.currentAmount / savingsData.goalAmount) * 100,
            100
          );

          // Update dashboard card
          document.getElementById(
            "savingsPercentage"
          ).textContent = `${Math.round(percentage)}%`;
          document.getElementById(
            "savingsAmount"
          ).textContent = `$${savingsData.currentAmount.toFixed(
            2
          )}/$${savingsData.goalAmount.toFixed(2)} goal`;

          // Update savings section
          document.getElementById(
            "savingsCompleteBadge"
          ).textContent = `${Math.round(percentage)}% Complete`;
          document.getElementById(
            "savingsProgressBar"
          ).style.width = `${percentage}%`;
          document.getElementById(
            "currentSavingsAmount"
          ).textContent = `$${savingsData.currentAmount.toFixed(2)}`;
          document.getElementById(
            "savingsGoalAmount"
          ).textContent = `/ $${savingsData.goalAmount.toFixed(2)}`;
        }

        // Update savings history
        function updateSavingsHistory() {
          const historyContainer = document.getElementById("savingsHistory");
          historyContainer.innerHTML = "";

          savingsData.history
            .slice()
            .reverse()
            .forEach((entry) => {
              const historyItem = document.createElement("div");
              historyItem.className =
                "flex justify-between items-center p-3 bg-gray-50 rounded-lg";
              historyItem.innerHTML = `
              <div>
                <p class="font-medium">${entry.description}</p>
                <p class="text-sm text-gray-600">${new Date(
                  entry.date
                ).toLocaleDateString()}</p>
              </div>
              <span class="text-green-600 font-semibold">+$${entry.amount.toFixed(
                2
              )}</span>
            `;
              historyContainer.appendChild(historyItem);
            });
        }

        // Show success message
        function showSuccessMessage(message) {
          const successDiv = document.createElement("div");
          successDiv.className =
            "fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300";
          successDiv.innerHTML = `
            <div class="flex items-center space-x-2">
              <i class="fas fa-check-circle"></i>
              <span>${message}</span>
            </div>
          `;

          document.body.appendChild(successDiv);

          setTimeout(() => {
            successDiv.style.transform = "translateX(0)";
          }, 100);

          setTimeout(() => {
            successDiv.style.transform = "translateX(100%)";
            setTimeout(() => {
              document.body.removeChild(successDiv);
            }, 300);
          }, 3000);
        }

        // Initialize savings history
        updateSavingsHistory();
      });
    </script>
  </body>
</html>
